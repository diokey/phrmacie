<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"> 
      
      
      <div class="top-content" style="position:relative;height:50px;">
	      <div class="header">
	      		<h2>#{uiMessages.vente_menu2}</h2>
	      </div>
	      <div class="helpIcon" style="position:absolute; top:1px; left:10px;">
			<h:graphicImage value="/images/help.png" id="helpImgCaisse"/><br />
			<h:outputText value="#{uiMessages.helpLabel}"/>
			<rich:tooltip showEvent="click" target="helpImgCaisse">
				<h:panelGroup layout="block" style="width:200px">
					<h:graphicImage value="/images/rightarrow.png" width="16" height="16" style="float:left;"/>
					<h:outputText escape="false" value="#{uiMessages.helpCaisseText}" />
				</h:panelGroup>
			</rich:tooltip>
		 </div>
		 
		 <div class="toggle-button" style="display:inline-block;position:relative;top:10px; left:60px;vertical-align:top;">
		 	
		 		<c:forEach items="#{caisseBean.buttons}" var="button" varStatus="status">
		 			<span class="#{button.classes}" id="#{button.id}">
		 				<a4j:commandLink value="#{button.label}" onclick="selectTypeAchatToshow(#{button.value})" oncomplete="selectElement('#{button.id}')" >
		 				
		 				</a4j:commandLink>
		 			</span>
		 			
		 		</c:forEach>
		 		
		 	
	 	</div>
	 	
	 	<a4j:outputPanel id="selectUser" layout="block" style="position:relative;display:inline-block;left:70px;top:5px;width:100px;" rendered="#{userBean.user.gerant or userBean.user.patron}">
	 		<rich:dropDownMenu>
	 			<f:facet name="label">
					<h:panelGroup>
						<h:graphicImage value="/images/user.png" width="24" height="24" style="vertical-align:middle"/>
						<h:outputText value="#{caisseBean.utilisateur.username}" style="padding:4px;vertical-align:middle;font-size:1.2em;text-decoration:none;" />
						<h:graphicImage value="/images/s_desc.png" width="16" style="vertical-align:middle"/>
					</h:panelGroup>
				</f:facet>
				
				<c:forEach items="#{caisseBean.pharmacienList}" var="user">
					<rich:menuItem mode="client" label="#{user.username}" icon="/images/user.png" onclick="venteUtilisateur(#{user.userId})" limitRender="true"></rich:menuItem>
				</c:forEach>
	 		</rich:dropDownMenu>
	 	</a4j:outputPanel>
	 	
	 </div>	
</ui:composition>
